require=function(r,e,n){function t(n,o){function i(r){return t(i.resolve(r))}function f(e){return r[n][1][e]||e}if(!e[n]){if(!r[n]){var c="function"==typeof require&&require;if(!o&&c)return c(n,!0);if(u)return u(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}i.resolve=f;var s=e[n]=new t.Module(n);r[n][0].call(s.exports,i,s,s.exports)}return e[n].exports}function o(r){this.id=r,this.bundle=t,this.exports={}}var u="function"==typeof require&&require;t.isParcelRequire=!0,t.Module=o,t.modules=r,t.cache=e,t.parent=u;for(var i=0;i<n.length;i++)t(n[i]);return t}({5:[function(require,module,exports) {
angular.module("cardMakerApp").controller("ToolsController",["$q","cards","_","html2canvas",function(e,a,n,o){var t={logging:!1};-1!==window.location.href.indexOf("://localhost/")&&(t.useCORS=!1);var r=n.keyBy(a,"id");function c(a){var n=e.defer();return o(a,t).then(function(e){var o=e.toDataURL("image/png"),t=r[a.id];t.cardImg=o,n.resolve(t)}),n.promise}function l(){var a=document.getElementsByClassName("card");console.log("downloading",a.length,"cards");for(var n=[],o=0;o<a.length;o++){var t=c(a[o]);n.push(t)}e.all(n).then(function(e){!function(e){var a=JSON.stringify(e);console.log("bytes",a.length);var n=new Blob([a],{type:"application/json"}),o=URL.createObjectURL(n),t=document.createElement("a");t.setAttribute("href",o),t.setAttribute("download","carddata.json"),t.click()}(e)})}r.backface={id:"backface",name:"back face"},this.download=function(){l()}}]);
},{}]},{},[5])